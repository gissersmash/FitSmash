// Traductions compactes et optimisées
export const t = {
  fr: {
    nav: { dashboard: "Tableau de bord", nutrition: "Suivi Nutrition", health: "Santé", objectives: "Mes Objectifs", subscription: "Abonnement", contact: "Contact", settings: "Paramètres", logout: "Déconnexion" },
    dashboard: { title: "Tableau de bord", welcome: "Bienvenue", today: "Aujourd'hui", caloriesConsumed: "Calories consommées", caloriesRemaining: "Calories restantes", addFood: "Ajouter un aliment", searchFood: "Rechercher un aliment...", search: "Rechercher", quantity: "Quantité (g)", calories: "Calories", proteins: "Protéines", carbs: "Glucides", fats: "Lipides", delete: "Supprimer", noEntries: "Aucune entrée alimentaire", addFirstFood: "Ajoutez votre premier aliment !", totalCalories: "Total calories", dailyGoal: "Objectif quotidien", foodCatalog: "Catalogue des aliments", popularFoods: "Aliments populaires", add: "Ajouter", usefulInfo: "Informations utiles", motivation: "Motivation", tips: "Conseils", close: "Fermer" },
    food: { searchPlaceholder: "Rechercher un aliment...", searching: "Recherche...", noResults: "Aucun résultat", per100g: "Pour 100g", addToDay: "Ajouter", added: "ajouté !", errorAdding: "Erreur", deleted: "supprimé", errorDeleting: "Impossible de supprimer" },
    auth: { login: "Connexion", register: "Inscription", email: "Email", password: "Mot de passe", confirmPassword: "Confirmer", username: "Nom d'utilisateur", loginButton: "Se connecter", registerButton: "S'inscrire", alreadyAccount: "Déjà un compte ?", noAccount: "Pas de compte ?", clickHere: "Cliquez ici", welcomeBack: "Bon retour !", joinUs: "Rejoignez-nous", loginSubtitle: "Connectez-vous à votre espace", registerSubtitle: "Créez votre compte", loginSuccess: "Connexion réussie !", registerSuccess: "Inscription réussie !" },
    settings: { title: "Paramètres", profile: "Profil", appearance: "Apparence", language: "Langue", myProfile: "Mon profil", username: "Nom", email: "Email", avatar: "Avatar", selectAvatar: "Choisir un avatar", uploadImage: "Télécharger", chooseFile: "Choisir un fichier", saveProfile: "Enregistrer", darkMode: "Mode sombre", darkModeDesc: "Thème clair/sombre", selectLanguage: "Langue", french: "Français", english: "Anglais", profileUpdated: "Profil mis à jour !", darkModeEnabled: "Mode sombre activé", lightModeEnabled: "Mode clair activé", languageChanged: "Langue modifiée !", avatarUpdated: "Avatar mis à jour !", imageUploaded: "Image téléchargée !", errorImageSize: "Image trop grande (max 5Mo)", errorImageType: "Format invalide (jpg, png, gif, webp)" },
    objectives: { title: "Mes Objectifs", subtitle: "Objectifs nutritionnels", caloriesGoal: "Calories", carbsGoal: "Glucides", proteinsGoal: "Protéines", fatsGoal: "Lipides", waterGoal: "Eau (L)", save: "Enregistrer", saved: "Objectifs enregistrés !", error: "Erreur", enterValue: "Valeur", perDay: "/jour" },
    health: { title: "Suivi Santé", addEntry: "Ajouter", weight: "Poids (kg)", date: "Date", save: "Enregistrer", noData: "Aucune donnée", history: "Historique" },
    subscription: { title: "Abonnement", free: "Gratuit", premium: "Premium", pro: "Pro", month: "/mois", subscribe: "S'abonner", current: "Actuel", features: "Fonctionnalités" },
    contact: { title: "Contact", name: "Nom", email: "Email", message: "Message", send: "Envoyer", sent: "Message envoyé !", error: "Erreur" },
    common: { loading: "Chargement...", error: "Erreur", success: "Succès", cancel: "Annuler", confirm: "Confirmer", save: "Enregistrer", delete: "Supprimer", edit: "Modifier", add: "Ajouter", search: "Rechercher", close: "Fermer", yes: "Oui", no: "Non", back: "Retour", next: "Suivant" }
  },
  en: {
    nav: { dashboard: "Dashboard", nutrition: "Nutrition Tracking", health: "Health", objectives: "My Goals", subscription: "Subscription", contact: "Contact", settings: "Settings", logout: "Logout" },
    dashboard: { title: "Dashboard", welcome: "Welcome", today: "Today", caloriesConsumed: "Calories consumed", caloriesRemaining: "Remaining calories", addFood: "Add food", searchFood: "Search food...", search: "Search", quantity: "Quantity (g)", calories: "Calories", proteins: "Proteins", carbs: "Carbs", fats: "Fats", delete: "Delete", noEntries: "No food entries", addFirstFood: "Add your first food!", totalCalories: "Total calories", dailyGoal: "Daily goal", foodCatalog: "Food catalog", popularFoods: "Popular foods", add: "Add", usefulInfo: "Useful info", motivation: "Motivation", tips: "Tips", close: "Close" },
    food: { searchPlaceholder: "Search food...", searching: "Searching...", noResults: "No results", per100g: "Per 100g", addToDay: "Add", added: "added!", errorAdding: "Error", deleted: "deleted", errorDeleting: "Cannot delete" },
    auth: { login: "Login", register: "Sign up", email: "Email", password: "Password", confirmPassword: "Confirm", username: "Username", loginButton: "Log in", registerButton: "Sign up", alreadyAccount: "Already have an account?", noAccount: "No account?", clickHere: "Click here", welcomeBack: "Welcome back!", joinUs: "Join us", loginSubtitle: "Log in to your space", registerSubtitle: "Create your account", loginSuccess: "Login successful!", registerSuccess: "Registration successful!" },
    settings: { title: "Settings", profile: "Profile", appearance: "Appearance", language: "Language", myProfile: "My profile", username: "Username", email: "Email", avatar: "Avatar", selectAvatar: "Choose avatar", uploadImage: "Upload", chooseFile: "Choose file", saveProfile: "Save", darkMode: "Dark mode", darkModeDesc: "Light/dark theme", selectLanguage: "Language", french: "French", english: "English", profileUpdated: "Profile updated!", darkModeEnabled: "Dark mode enabled", lightModeEnabled: "Light mode enabled", languageChanged: "Language changed!", avatarUpdated: "Avatar updated!", imageUploaded: "Image uploaded!", errorImageSize: "Image too large (max 5MB)", errorImageType: "Invalid format (jpg, png, gif, webp)" },
    objectives: { title: "My Goals", subtitle: "Nutritional goals", caloriesGoal: "Calories", carbsGoal: "Carbs", proteinsGoal: "Proteins", fatsGoal: "Fats", waterGoal: "Water (L)", save: "Save", saved: "Goals saved!", error: "Error", enterValue: "Value", perDay: "/day" },
    health: { title: "Health Tracking", addEntry: "Add", weight: "Weight (kg)", date: "Date", save: "Save", noData: "No data", history: "History" },
    subscription: { title: "Subscription", free: "Free", premium: "Premium", pro: "Pro", month: "/month", subscribe: "Subscribe", current: "Current", features: "Features" },
    contact: { title: "Contact", name: "Name", email: "Email", message: "Message", send: "Send", sent: "Message sent!", error: "Error" },
    common: { loading: "Loading...", error: "Error", success: "Success", cancel: "Cancel", confirm: "Confirm", save: "Save", delete: "Delete", edit: "Edit", add: "Add", search: "Search", close: "Close", yes: "Yes", no: "No", back: "Back", next: "Next" }
  }
};

export const getTranslation = (key, lang = 'fr') => {
  const keys = key.split('.');
  let value = t[lang];
  for (const k of keys) {
    if (value?.[k]) value = value[k];
    else return key;
  }
  return value || key;
};
